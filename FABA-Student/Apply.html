<!doctype html>
<html lang="en" data-bs-theme="blue-theme">


<!-- Mirrored from codervent.com/maxton/demo/vertical-menu/form-wizard.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 10 Aug 2024 12:46:41 GMT -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SFABA</title>
  <!--favicon-->
	<link rel="icon" href="assets/images/SFABA.png" type="image/png">
  <!-- loader-->
	<link href="assets/css/pace.min.css" rel="stylesheet">
	<script src="assets/js/pace.min.js"></script>

  <!--plugins-->
  <link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="assets/plugins/metismenu/metisMenu.min.css">
  <link rel="stylesheet" type="text/css" href="assets/plugins/metismenu/mm-vertical.css">
  <link rel="stylesheet" type="text/css" href="assets/plugins/simplebar/css/simplebar.css">
  <link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet">
  <link href="assets/plugins/bs-stepper/css/bs-stepper.css" rel="stylesheet">
  <!--bootstrap css-->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
  <!--main css-->
  <link href="assets/css/bootstrap-extended.css" rel="stylesheet">
  <link href="sass/main.css" rel="stylesheet">
  <link href="sass/bordered-theme.css" rel="stylesheet">
  <link href="sass/responsive.css" rel="stylesheet">

</head>

<body>

  <!--start header-->
  <header class="top-header">
    <nav class="navbar navbar-expand align-items-center gap-4">
      <div class="btn-toggle">
        <a href="javascript:;"><i class="material-icons-outlined">menu</i></a>
      </div>
      
      <div class="ms-auto d-flex align-items-center gap-3">
        <!-- Welcome Message -->
        <div class="welcome-message">Welcome, Student!</div>
        
        <!-- Search Bar -->
        <div class="search-bar">
          <input type="text" placeholder="Search..." class="form-control">
        </div>
        
        <!-- Current Date -->
        <div class="current-date" id="current-date"></div>
        
        <!-- Current Time -->
        <div class="current-time" id="current-time"></div>
      </div>
    </nav>
  </header>
  <!--end top header-->


  <!--start sidebar-->
  <aside class="sidebar-wrapper" data-simplebar="true">
    <div class="sidebar-header d-flex align-items-center justify-content-between">
      <div class="logo-icon">
        <img src="assets/images/SFABA.png" class="logo-img" alt="" >
      </div>
      <div class="logo-name flex-grow-1">
        <h5 class="mb-0">SFABA</h5>
      </div>
      <div class="sidebar-close">
        <span class="material-icons-outlined">close</span>
      </div>
    </div>
    <div class="sidebar-nav">
      <!--navigation-->
      <ul class="metismenu" id="sidenav">
        <li class="menu-label">Student</li>
        <li>
          <ul>
            <li><a href="/student/Dashboard"><i class="material-icons-outlined">arrow_right</i>Home</a></li>
              <li><a href="/student/Apply"><i class="material-icons-outlined">arrow_right</i>Financial Aid Apply</a></li>
              <li><a href="/student/history"><i class="material-icons-outlined">arrow_right</i>History</a></li>
              <li><a href="/student/request"><i class="material-icons-outlined">arrow_right</i>Book Request</a></li>
              <li><a href="/student/donate"><i class="material-icons-outlined">arrow_right</i>Book Donate</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </aside>
<!--end sidebar-->


  <!--start main wrapper-->
  <main class="main-wrapper">
    <div class="main-content">
      <!--start stepper one--> 
      <h6 class="text-uppercase">Apply Form</h6>
      <hr>
      <div id="stepper1" class="bs-stepper">
        <div class="card">
          <div class="card-header">
            <div class="d-lg-flex flex-lg-row align-items-lg-center justify-content-lg-between" role="tablist">
              <div class="step" data-target="#test-l-1">
                <div class="step-trigger" role="tab" id="stepper1trigger1" aria-controls="test-l-1">
                  <div class="bs-stepper-circle">1</div>
                  <div class="">
                    <h5 class="mb-0 steper-title">Personal Info</h5>
                    <p class="mb-0 steper-sub-title">Enter Your Details</p>
                  </div>
                </div>
              </div>
              <div class="bs-stepper-line"></div>
              <div class="step" data-target="#test-l-2">
                <div class="step-trigger" role="tab" id="stepper1trigger2" aria-controls="test-l-2">
                  <div class="bs-stepper-circle">2</div>
                  <div class="">
                    <h5 class="mb-0 steper-title">Account Details</h5>
                    <p class="mb-0 steper-sub-title">Bank Account Details</p>
                  </div>
                </div>
              </div>
              <div class="bs-stepper-line"></div>
              <div class="step" data-target="#test-l-3">
                <div class="step-trigger" role="tab" id="stepper1trigger3" aria-controls="test-l-3">
                  <div class="bs-stepper-circle">3</div>
                  <div class="">
                    <h5 class="mb-0 steper-title">Education</h5>
                    <p class="mb-0 steper-sub-title">Education Details</p>
                  </div>
                </div>
              </div>
              <div class="bs-stepper-line"></div>
              <div class="step" data-target="#test-l-4">
                <div class="step-trigger" role="tab" id="stepper1trigger4" aria-controls="test-l-4">
                  <div class="bs-stepper-circle">4</div>
                  <div class="">
                    <h5 class="mb-0 steper-title">Semester Experience</h5>
                    <p class="mb-0 steper-sub-title"> Details</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="bs-stepper-content">
              <form id="applyForm" action="/submit-financial-aid" method="POST">
                <div id="test-l-1" role="tabpanel" class="bs-stepper-pane" aria-labelledby="stepper1trigger1">
                  <h5 class="mb-1">Your Personal Information</h5>
                  <p class="mb-4">Enter your personal information to get closer to companies</p>
                  <div class="row g-3">
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="firstName">First Name</label>
                      <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First Name" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="lastName">Last Name</label>
                      <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last Name" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="phoneNumber">Phone Number</label>
                      <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Phone Number" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="emailAddress">E-mail Address</label>
                      <input type="email" class="form-control" id="emailAddress" name="emailAddress" placeholder="Enter Email Address" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="aidAmount">Aid Amount</label>
                      <input type="text" class="form-control" id="aidAmount" name="aidAmount" placeholder="Aid Amount" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="address">Address</label>
                      <input type="text" class="form-control" id="address" name="address" placeholder="Enter Address" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="studentId">Student ID</label>
                      <input type="text" class="form-control" id="studentId" name="studentId" placeholder="Enter Student ID" required>
                  </div>
                  <div class="col-12 col-lg-6">
                      <label class="form-label" for="prnNo">Prn No</label>
                      <input type="text" class="form-control" id="prnNo" name="prnNo" placeholder="Enter prn no"  required>
                  </div>
                    <div class="col-12 col-lg-6">
                      <button type="button" class="btn btn-grd-primary px-4" onclick="stepper1.next()" aria-label="Next Step">Next<i class='bx bx-right-arrow-alt ms-2'></i></button>
                    </div>
                  </div><!---end row-->
                </div>
              
                <div id="test-l-2" role="tabpanel" class="bs-stepper-pane" aria-labelledby="stepper1trigger2">
                  <h5 class="mb-1">Account Details</h5>
                  <p class="mb-4">Enter Your Account Details.</p>
                  <div class="row g-3">
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="username">Username</label>
                      <input type="text" class="form-control" id="username" name="username" placeholder="jhon@123" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="accountEmail">E-mail Address</label>
                      <input type="email" class="form-control" id="accountEmail" name="accountEmail" placeholder="example@xyz.com" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="bankAccountNumber">Bank Account Number</label>
                      <input type="text" class="form-control" id="bankAccountNumber" name="bankAccountNumber" placeholder="Bank Account Number" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="ifscCode">IFSC Code</label>
                      <input type="text" class="form-control" id="ifscCode" name="ifscCode" placeholder="IFSC Code" required>
                    </div>
                    <div class="col-12">
                      <div class="d-flex align-items-center gap-3">
                        <button type="button" class="btn btn-grd-info px-4" onclick="stepper1.previous()" aria-label="Previous Step"><i class='bx bx-left-arrow-alt me-2'></i>Previous</button>
                        <button type="button" class="btn btn-grd-primary px-4" onclick="stepper1.next()" aria-label="Next Step">Next<i class='bx bx-right-arrow-alt ms-2'></i></button>
                      </div>
                    </div>
                  </div><!---end row-->
                </div>
                
              
                <div id="test-l-3" role="tabpanel" class="bs-stepper-pane" aria-labelledby="stepper1trigger3">
                  <h5 class="mb-1">Your Education Information</h5>
                  <p class="mb-4">Inform Sponsors about your education life</p>
                  <div class="row g-3">
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="universityName">University Name</label>
                      <input type="text" class="form-control" id="universityName" name="universityName" placeholder="University Name" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="courseName">Course Name</label>
                      <select class="form-select" id="courseName" name="courseName" required>
                        <option selected disabled value="">---</option>
                        <option value="Bachelor of Arts">Bachelor of Arts</option>
                        <option value="Bachelor of Commerce">Bachelor of Commerce</option>
                        <option value="Bachelor of Sciences">Bachelor of Sciences</option>
                        <option value="BSc Information Technology">BSc Information Technology</option>
                        <option value="BSc Computer Science">BSc Computer Science</option>
                        <option value="BSc Biotechnology">BSc Biotechnology</option>
                      </select>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="currentYearSelect">Current Year</label>
                      <select class="form-select" id="currentYearSelect" name="currentYearSelect" required>
                        <option selected disabled value="">---</option>
                        <option value="FY">FY</option>
                        <option value="SY">SY</option>
                        <option value="TY">TY</option>
                      </select>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="boardName">Board Name</label>
                      <input type="text" class="form-control" id="boardName" name="boardName" placeholder="Board Name" required>
                    </div>
                    <div class="col-12">
                      <div class="d-flex align-items-center gap-3">
                        <button type="button" class="btn btn-grd-info px-4" onclick="stepper1.previous()" aria-label="Previous Step"><i class='bx bx-left-arrow-alt me-2'></i>Previous</button>
                        <button type="button" class="btn btn-grd-primary px-4" onclick="stepper1.next()" aria-label="Next Step">Next<i class='bx bx-right-arrow-alt ms-2'></i></button>
                      </div>
                    </div>
                  </div><!---end row-->
                </div>
              
                <div id="test-l-4" role="tabpanel" class="bs-stepper-pane" aria-labelledby="stepper1trigger4">
                  <h5 class="mb-1">Semesters Results</h5>
                  <p class="mb-4">SGPS %</p>
                  <div class="row g-3">
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="jrFyPercentage">Jr Fy Percentage</label>
                      <input type="text" class="form-control" id="jrFyPercentage" name="jrFyPercentage" placeholder="Jr Fy Percentage" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="jrSyPercentage">Jr Sy Percentage</label>
                      <input type="text" class="form-control" id="jrSyPercentage" name="jrSyPercentage" placeholder="Jr Sy Percentage" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="semester1">Semester 1</label>
                      <input type="text" class="form-control" id="semester1" name="semester1" placeholder="Semester 1" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="semester2">Semester 2</label>
                      <input type="text" class="form-control" id="semester2" name="semester2" placeholder="Semester 2" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="semester3">Semester 3</label>
                      <input type="text" class="form-control" id="semester3" name="semester3" placeholder="Semester 3" required>
                    </div>
                    <div class="col-12 col-lg-6">
                      <label class="form-label" for="semester4">Semester 4</label>
                      <input type="text" class="form-control" id="semester4" name="semester4" placeholder="Semester 4" required>
                    </div>
                    <div class="col-12">
                      <div class="d-flex align-items-center gap-3">
                        <button type="button" class="btn btn-grd-info px-4" onclick="stepper1.previous()" aria-label="Previous Step"><i class='bx bx-left-arrow-alt me-2'></i>Previous</button>
                        <button type="submit" class="btn btn-grd-primary px-4" aria-label="Submit Form">Submit<i class='bx bx-right-arrow-alt ms-2'></i></button>
                      </div>
                    </div>
                  </div><!---end row-->
                </div>
              </form>
              
            </div>
          </div>
          <script>
            document.addEventListener('DOMContentLoaded', () => {
              // Initialize Stepper
              const stepper1 = new Stepper(document.querySelector('#stepper1'), {
                linear: false,
                animation: true
              });
            
              // Function to validate fields dynamically (Live Validation)
              function validateField(field, validationFn) {
                field.addEventListener("blur", () => validationFn(field));
                field.addEventListener("input", () => removeError(field)); // Remove error on user input
              }
            
              // Function to validate text fields (Only letters)
              function validateText(field) {
                if (!/^[A-Za-z\s]+$/.test(field.value.trim())) {
                  showError(field, "Only letters are allowed");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to validate phone number (10 digits)
              function validatePhone(field) {
                if (!/^\d{10}$/.test(field.value.trim())) {
                  showError(field, "Enter a valid 10-digit phone number");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to validate email
              function validateEmail(field) {
                if (!/^\S+@\S+\.\S+$/.test(field.value.trim())) {
                  showError(field, "Enter a valid email address");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to validate PRN number (6-12 digits)
              function validatePRN(field) {
                if (!/^\d{6,12}$/.test(field.value.trim())) {
                  showError(field, "PRN No must be between 6-12 digits");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to validate bank account
              function validateBank(field) {
                if (!/^\d{8,18}$/.test(field.value.trim())) {
                  showError(field, "Bank Account must be 8-18 digits");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to validate IFSC Code
              function validateIFSC(field) {
                if (!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(field.value.trim())) {
                  showError(field, "Enter a valid IFSC code (e.g., HDFC0123456)");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to validate Aid Amount (Currency)
              function validateAidAmount(field) {
                let value = field.value.trim().replace(/[₹,]/g, ""); // Remove ₹ and commas

                if (!/^\d+(\.\d{1,2})?$/.test(value)) {
                  showError(field, "Enter a valid amount (e.g., 1000.00)");
                  return false;
                }

                removeError(field);
                field.value = parseFloat(value).toFixed(2); // Format as a number with two decimal places
                return true;
              }

            
              // Function to validate numbers (e.g., percentages & semester grades)
              function validateNumeric(field) {
                if (field.value.trim() !== "" && !/^\d+(\.\d{1,2})?$/.test(field.value.trim())) {
                  showError(field, "Enter a valid number (e.g., 85.5)");
                  return false;
                }
                removeError(field);
                return true;
              }
            
              // Function to show error message
              function showError(field, message) {
                field.classList.add("is-invalid");
                if (!field.nextElementSibling || !field.nextElementSibling.classList.contains("error-message")) {
                  const error = document.createElement("div");
                  error.className = "error-message";
                  error.style.color = "red";
                  error.style.fontSize = "12px";
                  error.innerText = message;
                  field.parentNode.appendChild(error);
                }
              }
            
              // Function to remove error message
              function removeError(field) {
                field.classList.remove("is-invalid");
                if (field.nextElementSibling && field.nextElementSibling.classList.contains("error-message")) {
                  field.nextElementSibling.remove();
                }
              }
            
              // **Attach Live Validation for Each Field**
              validateField(document.getElementById("firstName"), validateText);
              validateField(document.getElementById("lastName"), validateText);
              validateField(document.getElementById("phoneNumber"), validatePhone);
              validateField(document.getElementById("emailAddress"), validateEmail);
              validateField(document.getElementById("accountEmail"), validateEmail);
              validateField(document.getElementById("prnNo"), validatePRN);
              validateField(document.getElementById("bankAccountNumber"), validateBank);
              validateField(document.getElementById("ifscCode"), validateIFSC);
              validateField(document.getElementById("aidAmount"), validateAidAmount);
            
              const numericFields = ["jrFyPercentage", "jrSyPercentage", "semester1", "semester2", "semester3", "semester4"];
              numericFields.forEach(id => validateField(document.getElementById(id), validateNumeric));
            
              // **Form Submission**
              document.querySelector("#applyForm").addEventListener("submit", (event) => {
                event.preventDefault(); 
            
                let isValid = true;
                isValid &= validateText(document.getElementById("firstName"));
                isValid &= validateText(document.getElementById("lastName"));
                isValid &= validatePhone(document.getElementById("phoneNumber"));
                isValid &= validateEmail(document.getElementById("emailAddress"));
                isValid &= validateEmail(document.getElementById("accountEmail"));
                isValid &= validateAidAmount(document.getElementById("aidAmount"));
                isValid &= validatePRN(document.getElementById("prnNo"));
                isValid &= validateBank(document.getElementById("bankAccountNumber"));
                isValid &= validateIFSC(document.getElementById("ifscCode"));
            
                numericFields.forEach(id => {
                  isValid &= validateNumeric(document.getElementById(id));
                });
            
                if (!isValid) {
                  return; // Prevent submission if errors exist
                }
            
                console.log("Form submitted successfully!");
                alert("Form successfully submitted!");
            
                const formData = new FormData(event.target);
                const data = Object.fromEntries(formData.entries());
            
                fetch("/submit-financial-aid", {
                  method: "POST",
                  headers: { "Content-Type": "application/json" },
                  body: JSON.stringify(data)
                })
                .then(response => response.json())
                .then(data => console.log("Success:", data))
                .catch(error => console.error("Error:", error));
              });

              // Semester Fields Display Logic
              const currentYearSelect = document.getElementById('currentYearSelect');
              const semesterFields = {
                jrFyPercentage: document.getElementById('jrFyPercentage'),
                jrSyPercentage: document.getElementById('jrSyPercentage'),
                semester1: document.getElementById('semester1'),
                semester2: document.getElementById('semester2'),
                semester3: document.getElementById('semester3'),
                semester4: document.getElementById('semester4')
              };

              function updateSemesterFields() {
                const currentYear = currentYearSelect.value;

                Object.values(semesterFields).forEach(field => {
                  field.style.display = 'none';
                  field.removeAttribute('required');
                });

                if (currentYear === 'FY') {
                  semesterFields.jrFyPercentage.style.display = 'block';
                  semesterFields.jrSyPercentage.style.display = 'block';
                } else if (currentYear === 'SY') {
                  semesterFields.jrFyPercentage.style.display = 'block';
                  semesterFields.jrSyPercentage.style.display = 'block';
                  semesterFields.semester1.style.display = 'block';
                  semesterFields.semester2.style.display = 'block';
                  semesterFields.semester1.setAttribute('required', 'required');
                  semesterFields.semester2.setAttribute('required', 'required');
                } else if (currentYear === 'TY') {
                  Object.values(semesterFields).forEach(field => {
                    field.style.display = 'block';
                    field.setAttribute('required', 'required');
                  });
                }
              }

              currentYearSelect.addEventListener('change', updateSemesterFields);
              updateSemesterFields();
            
              });
            </script>
        </div>
      </div>
      <!--end stepper one--> 
    </div>
  </main>
  <!--end main wrapper-->


    <!--start overlay-->
    <div class="overlay btn-toggle"></div>
    <!--end overlay-->

     <!--start footer-->
     <footer class="page-footer">
      <p class="mb-0">Copyright © 2024. All right reserved.</p>
    </footer>
    <!--top footer-->

  <!--bootstrap js-->
  <script src="assets/js/bootstrap.bundle.min.js"></script>

  <!--plugins-->
  <script src="assets/js/jquery.min.js"></script>
  <!--plugins-->
  <script src="assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
  <script src="assets/plugins/metismenu/metisMenu.min.js"></script>
  <script src="assets/plugins/bs-stepper/js/bs-stepper.min.js"></script>
	<script src="assets/plugins/bs-stepper/js/main.js"></script>
  <script src="assets/plugins/simplebar/js/simplebar.min.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="assets/js/student-header.js"></script>
</body>
</html>